import{f as y,a as h,t as D}from"../chunks/BPZkgbwD.js";import{aK as G,aL as I,S as R,ap as V,h as J,n as m,aM as K,X as g,_,$ as c,aN as W,a0 as v,aO as X,a1 as f,Y,a3 as z,a8 as b,aP as j}from"../chunks/CJW2K83c.js";import{e as H}from"../chunks/DGq6eY41.js";import{s as Q}from"../chunks/oRw3l-Xh.js";import{a as T}from"../chunks/P7PcPfxM.js";import{p,r as A}from"../chunks/CKjiN8tr.js";function M(e,a,s=a){var o=new WeakSet;G(e,"input",async r=>{var t=r?e.defaultValue:e.value;if(t=S(e)?E(t):t,s(t),m!==null&&o.add(m),await I(),t!==(t=a())){var n=e.selectionStart,l=e.selectionEnd,u=e.value.length;if(e.value=t??"",l!==null){var i=e.value.length;n===l&&l===u&&i>u?(e.selectionStart=i,e.selectionEnd=i):(e.selectionStart=n,e.selectionEnd=Math.min(l,i))}}}),(J&&e.defaultValue!==e.value||R(a)==null&&e.value)&&(s(S(e)?E(e.value):e.value),m!==null&&o.add(m)),V(()=>{var r=a();if(e===document.activeElement){var t=K??m;if(o.has(t))return}S(e)&&r===E(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function S(e){var a=e.type;return a==="number"||a==="range"}function E(e){return e===""?null:+e}var U=y("<button><!></button>");function Z(e,a){g(a,!0);const s=p(a,"variant",3,"base"),o=p(a,"type",3,"button"),r=A(a,["$$slots","$$events","$$legacy","variant","type","children"]),t={base:"bg-white/10 border-black/20",action:"bg-green-900 text-white/90 border-green-600/50",cancel:"bg-red-500"};var n=U();T(n,()=>({...r,class:["min-w-24 border px-1.5 pb-0.5",t[s()],a.class],type:o()}));var l=c(n);Q(l,()=>a.children??W),v(n),h(e,n),_()}var $=y("<input/>");function L(e,a){g(a,!0);let s=p(a,"value",15),o=A(a,["$$slots","$$events","$$legacy","name","value"]);var r=$();T(r,()=>({...o,class:["border border-black/10 px-2.5 py-1.5 placeholder-black/50 ring-black/20 outline-none focus:ring-2",a.class],type:"text",name:a.name}),void 0,void 0,void 0,void 0,!0),M(r,s),h(e,r),_()}var ee=y(`<textarea>
</textarea>`);function ae(e,a){g(a,!0);let s=p(a,"value",15),o=p(a,"rows",3,8),r=A(a,["$$slots","$$events","$$legacy","name","value","rows"]);var t=ee();X(t),T(t,()=>({...r,class:["border border-black/20  px-2.5 py-1.5 placeholder-black/50 ring-black/20 outline-none focus:ring-2",a.class],name:a.name,rows:o()})),M(t,s),h(e,t),_()}var te=y(`<div>Bo√Æte de commentaires de l'AGRAF</div> <div>Pour bien repr√©senter les √©tudiant¬∑es du programme et pour cr√©er une vie √©tudiante √† votre image,
	l'AGRAF (Association √©tudiante du module de design graphique) veut avoir vos commentaires!</div> <div>Ici, tu peux nous envoyer tes suggestions, pr√©occupations et id√©es. Cette bo√Æte est ouverte en
	tout temps. On t'invite aussi √† nous envoyer un courriel (agraf.uqam@gmail.com) pour un contact
	plus direct.</div> <div>Toute forme de violence ou de haine envers un individu ou un groupe ne sera en aucun cas tol√©r√©e,
	et les r√©ponses de cette nature ne seront pas prises en compte.</div> <div class="mb-4">Merci pour ton feedback!</div> <form class="mt-6 mb-4" method="POST"><div class="max-w-96 border border-black/20 px-4 py-3"><div class="mb-4 text-balance">Tu peux laisser ton nom / email si t'as rien √† cacher üßê</div> <div class="space-y-2"><div><!></div> <div><!></div></div></div> <div class="mt-6 mb-4"><!></div> <!></form>`,1);function ce(e,a){g(a,!0);let s=j(!1),o=j("");async function r(d){d.preventDefault();const P=new FormData(d.currentTarget,d.submitter),k=Object.fromEntries(P.entries());b(s,!0),b(o,"");try{const w=await fetch("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)}),F=await w.json();console.log(F),w.ok?console.log("success"):b(o,F.error||"An unknown error occurred.",!0)}catch{b(o,"Failed to connect to the server. Please try again.")}finally{b(s,!1)}}var t=te(),n=f(Y(t),10),l=c(n),u=f(c(l),2),i=c(u),N=c(i);L(N,{class:"w-full",name:"author_name",placeholder:"Nom"}),v(i);var O=f(i,2),q=c(O);L(q,{class:"w-full",name:"author_email",placeholder:"Email"}),v(O),v(u),v(l);var x=f(l,2),B=c(x);ae(B,{class:"w-full",rows:6,name:"body",placeholder:"Laisse ton commentaire ici",maxLength:2e3}),v(x);var C=f(x,2);Z(C,{type:"submit",onclick:!0,children:(d,P)=>{z();var k=D("Envoyer");h(d,k)},$$slots:{default:!0}}),v(n),H("submit",n,r),h(e,t),_()}export{ce as component};
